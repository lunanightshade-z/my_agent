## 问题概述
聊天页面输入框在输入时出现明显延迟，排除设备性能问题后，定位为页面渲染负担过重导致。

## 根因分析
- `AppLayout` 在鼠标移动时持续更新状态，导致整页频繁重渲染。
- 频繁重渲染会触发 `ChatArea` 与富文本渲染组件重建，主线程占用升高。
- `Textarea` 自动高度计算在输入事件内同步执行，增加关键输入路径的开销。

## 解决方案
- 移除与输入无关的鼠标位移状态更新，避免高频无意义重渲染。
- 使用 `React.memo` 缓存 `ChatArea` 与 `InputContainer`，减少父级重渲染传播。
- 将 `Textarea` 的自动高度计算移到 `useLayoutEffect`，并用 `requestAnimationFrame` 调度，降低输入阻塞。

## 影响范围
- 仅影响聊天页面的输入区域与消息渲染性能。
- 不改变视觉样式和交互行为。

## 验证方式
- 本地执行 `npm run build` 通过构建验证。
- 进入聊天页连续输入，观察输入响应延迟明显改善。
