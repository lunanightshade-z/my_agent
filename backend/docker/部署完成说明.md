# My Agent é¡¹ç›®éƒ¨ç½²å®Œæˆè¯´æ˜

## âœ… éƒ¨ç½²çŠ¶æ€

**éƒ¨ç½²æ—¶é—´**: 2026-01-12  
**æœåŠ¡å™¨IP**: 8.130.129.37 (å…¬ç½‘), 10.0.2.28 (å†…ç½‘)

---

## ğŸŒ è®¿é—®åœ°å€

### å…¬ç½‘è®¿é—®

```
ğŸ¯ My Agentå‰ç«¯:    http://8.130.129.37:28888
ğŸ“¡ My Agent API:    http://8.130.129.37:28888/api/
ğŸ“š APIæ–‡æ¡£:         http://8.130.129.37:28888/docs
ğŸ’š å¥åº·æ£€æŸ¥:        http://8.130.129.37:28888/health
```

### æœ¬åœ°è®¿é—®

```
ğŸ¯ My Agentå‰ç«¯:    http://localhost:28888
ğŸ“¡ My Agent API:    http://localhost:28888/api/
ğŸ“š APIæ–‡æ¡£:         http://localhost:28888/docs
ğŸ’š å¥åº·æ£€æŸ¥:        http://localhost:28888/health
```

---

## ğŸ”Œ ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| **å‰ç«¯ç½‘ç«™** | 28888 | Reactåº”ç”¨ (Nginx) |
| **åç«¯API** | 8000 | FastAPIæœåŠ¡ (å®¹å™¨å†…éƒ¨) |
| **Redis** | 6380 | ç¼“å­˜æœåŠ¡ |

---

## ğŸ“¦ æœåŠ¡ç»„ä»¶

### 1. å‰ç«¯æœåŠ¡ (Nginx)
- **å®¹å™¨å**: `ai_agent_nginx`
- **ç«¯å£**: 28888
- **åŠŸèƒ½**: 
  - æä¾›Reactå‰ç«¯é™æ€æ–‡ä»¶
  - ä»£ç†APIè¯·æ±‚åˆ°åç«¯
  - Gzipå‹ç¼©
  - é™æ€èµ„æºç¼“å­˜

### 2. åç«¯æœåŠ¡ (FastAPI)
- **å®¹å™¨å**: `ai_agent_api`
- **ç«¯å£**: 8000 (å®¹å™¨å†…éƒ¨)
- **åŠŸèƒ½**:
  - RESTful APIæœåŠ¡
  - æµå¼èŠå¤©æ¥å£
  - ä¼šè¯ç®¡ç†
  - æ•°æ®åº“æ“ä½œ

### 3. Redisç¼“å­˜
- **å®¹å™¨å**: `ai_agent_redis`
- **ç«¯å£**: 6380
- **åŠŸèƒ½**: åˆ†å¸ƒå¼ç¼“å­˜

---

## ğŸš€ å¿«é€Ÿæ“ä½œ

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
cd /home/superdev/my_agent/backend/docker
docker compose ps
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose logs -f api
docker compose logs -f nginx
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
docker compose restart

# é‡å¯ç‰¹å®šæœåŠ¡
docker compose restart nginx
docker compose restart api
```

### åœæ­¢æœåŠ¡

```bash
docker compose down
```

### å¯åŠ¨æœåŠ¡

```bash
docker compose up -d
```

---

## ğŸ”§ å‰ç«¯æ›´æ–°

å¦‚æœéœ€è¦æ›´æ–°å‰ç«¯ï¼š

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd /home/superdev/my_agent/frontend

# 2. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install

# 3. æ„å»ºå‰ç«¯
npm run build

# 4. é‡å¯nginxæœåŠ¡
cd ../backend/docker
docker compose restart nginx
```

---

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

- **Docker Compose**: `/home/superdev/my_agent/backend/docker/docker-compose.yml`
- **Nginxé…ç½®**: `/home/superdev/my_agent/backend/docker/nginx.conf`
- **å‰ç«¯æ„å»º**: `/home/superdev/my_agent/frontend/dist/`
- **åç«¯ä»£ç **: `/home/superdev/my_agent/backend/app/`

---

## âœ… éªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥å‰ç«¯è®¿é—®

```bash
curl -I http://localhost:28888
# åº”è¯¥è¿”å›: HTTP/1.1 200 OK
```

### 2. æ£€æŸ¥APIå¥åº·

```bash
curl http://localhost:28888/health
# åº”è¯¥è¿”å›: {"status":"healthy",...}
```

### 3. æ£€æŸ¥APIæ–‡æ¡£

```bash
curl http://localhost:28888/docs
# åº”è¯¥è¿”å›Swagger UIé¡µé¢
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### å‰ç«¯æ— æ³•è®¿é—®

1. **æ£€æŸ¥nginxå®¹å™¨çŠ¶æ€**:
   ```bash
   docker ps | grep ai_agent_nginx
   ```

2. **æŸ¥çœ‹nginxæ—¥å¿—**:
   ```bash
   docker logs ai_agent_nginx
   ```

3. **æ£€æŸ¥å‰ç«¯æ–‡ä»¶æ˜¯å¦æŒ‚è½½**:
   ```bash
   docker exec ai_agent_nginx ls -la /usr/share/nginx/html/
   ```

4. **é‡æ–°æ„å»ºå‰ç«¯**:
   ```bash
   cd /home/superdev/my_agent/frontend
   npm run build
   cd ../backend/docker
   docker compose restart nginx
   ```

### APIæ— æ³•è®¿é—®

1. **æ£€æŸ¥APIå®¹å™¨çŠ¶æ€**:
   ```bash
   docker ps | grep ai_agent_api
   docker logs ai_agent_api
   ```

2. **æ£€æŸ¥APIå¥åº·**:
   ```bash
   curl http://localhost:8000/health
   ```

3. **é‡å¯APIæœåŠ¡**:
   ```bash
   cd /home/superdev/my_agent/backend/docker
   docker compose restart api
   ```

---

## ğŸ“Š æœåŠ¡å¯¹æ¯”

| é¡¹ç›® | ç«¯å£ | è®¿é—®åœ°å€ |
|------|------|---------|
| **customer_service** | 80 | http://8.130.129.37/ |
| **my_agent** | 28888 | http://8.130.129.37:28888 |

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

æ‚¨ç°åœ¨å¯ä»¥ï¼š

âœ… è®¿é—®My Agentå‰ç«¯ç•Œé¢: `http://8.130.129.37:28888`  
âœ… ä½¿ç”¨APIæ¥å£: `http://8.130.129.37:28888/api/`  
âœ… æŸ¥çœ‹APIæ–‡æ¡£: `http://8.130.129.37:28888/docs`  
âœ… è®¿é—®customer_service: `http://8.130.129.37/`

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€
